{"mappings":"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","sources":["js/game.js"],"sourcesContent":["document.addEventListener(\"DOMContentLoaded\", function () {\r\n  console.log(\"DOM fully loaded\");\r\n\r\n  //퍼즐게임s\r\n  const puzzleArea = document.getElementById(\"puzzle_game\");\r\n  const completePopup = document.getElementById(\"puzzlegame_popup\");\r\n  const gridSize = 3;\r\n  let pieces = [];\r\n  let selectedPiece = null;\r\n  let startPosition = null;\r\n\r\n  // 이미지 경로 배열 (실제 이미지 경로로 대체)\r\n  const imagePaths = [\r\n    \"./css/img/mural_1.png\",\r\n    \"./css/img/mural_2.png\",\r\n    \"./css/img/mural_3.png\",\r\n    \"./css/img/mural_4.png\",\r\n    \"./css/img/mural_5.png\",\r\n    \"./css/img/mural_6.png\",\r\n    \"./css/img/mural_7.png\",\r\n    \"./css/img/mural_8.png\",\r\n    \"./css/img/mural_9.png\",\r\n  ];\r\n\r\n  // 퍼즐 조각 크기와 간격 계산\r\n  function calculatePieceSize() {\r\n    const puzzleWidth = puzzleArea.offsetWidth; // 퍼즐 영역의 가로 크기\r\n    const pieceSize = Math.floor(puzzleWidth / gridSize); // 퍼즐 조각의 크기\r\n    const gridSpacing = 0; // 여백 없애기 위해 gridSpacing을 0으로 설정\r\n\r\n    return { pieceSize, gridSpacing };\r\n  }\r\n\r\n  // 퍼즐 조각 생성\r\n  function createPieces() {\r\n    // 퍼즐 영역에 기존 조각이 있으면 모두 제거\r\n    pieces.forEach((piece) => piece.remove());\r\n    pieces = [];\r\n\r\n    const placedPositions = new Set();\r\n    const { pieceSize, gridSpacing } = calculatePieceSize();\r\n\r\n    for (let i = 0; i < gridSize * gridSize; i++) {\r\n      const piece = document.createElement(\"button\");\r\n      piece.className = \"puzzle_piece\";\r\n\r\n      // 이미지 요소 생성\r\n      const img = document.createElement(\"img\");\r\n      img.src = imagePaths[i];\r\n      img.style.width = \"100%\";\r\n      img.style.height = \"100%\";\r\n      img.style.objectFit = \"cover\";\r\n\r\n      // 이미지를 퍼즐 조각에 추가\r\n      piece.appendChild(img);\r\n\r\n      let randomCol, randomRow, positionKey;\r\n      do {\r\n        randomCol = Math.floor(Math.random() * gridSize);\r\n        randomRow = Math.floor(Math.random() * gridSize);\r\n        positionKey = `${randomCol},${randomRow}`;\r\n      } while (placedPositions.has(positionKey));\r\n\r\n      placedPositions.add(positionKey);\r\n\r\n      // 초기 위치 설정\r\n      piece.style.left = `${randomCol * (pieceSize + gridSpacing)}px`;\r\n      piece.style.top = `${randomRow * (pieceSize + gridSpacing)}px`;\r\n      piece.dataset.col = randomCol;\r\n      piece.dataset.row = randomRow;\r\n\r\n      // 터치 및 마우스 이벤트 추가\r\n      piece.addEventListener(\"mousedown\", selectPiece);\r\n      piece.addEventListener(\"touchstart\", selectPiece);\r\n      pieces.push(piece);\r\n      puzzleArea.appendChild(piece);\r\n    }\r\n  }\r\n\r\n  // 퍼즐 조각 선택\r\n  function selectPiece(e) {\r\n    const event = e.touches ? e.touches[0] : e;\r\n    selectedPiece = e.target.closest(\".puzzle_piece\");\r\n    if (!selectedPiece) return;\r\n\r\n    const puzzleRect = puzzleArea.getBoundingClientRect();\r\n\r\n    startPosition = {\r\n      x: parseInt(selectedPiece.style.left),\r\n      y: parseInt(selectedPiece.style.top),\r\n    };\r\n\r\n    const offsetX = event.clientX - puzzleRect.left - startPosition.x;\r\n    const offsetY = event.clientY - puzzleRect.top - startPosition.y;\r\n\r\n    startPosition.offsetX = offsetX;\r\n    startPosition.offsetY = offsetY;\r\n\r\n    selectedPiece.style.zIndex = \"1000\"; // z-index를 높여서 선택된 조각이 앞에 오도록 설정\r\n    document.addEventListener(\"mousemove\", movePiece);\r\n    document.addEventListener(\"touchmove\", movePiece, { passive: false });\r\n    document.addEventListener(\"mouseup\", dropPiece);\r\n    document.addEventListener(\"touchend\", dropPiece);\r\n    e.preventDefault();\r\n  }\r\n\r\n  // 퍼즐 조각 이동\r\n  function movePiece(e) {\r\n    if (selectedPiece) {\r\n      const event = e.touches ? e.touches[0] : e;\r\n      const puzzleRect = puzzleArea.getBoundingClientRect();\r\n      const { pieceSize, gridSpacing } = calculatePieceSize();\r\n\r\n      let newX = event.clientX - puzzleRect.left - startPosition.offsetX;\r\n      let newY = event.clientY - puzzleRect.top - startPosition.offsetY;\r\n\r\n      // 새 위치가 퍼즐 영역 안에 있도록 제한\r\n      newX = Math.max(0, Math.min(newX, puzzleArea.offsetWidth - pieceSize));\r\n      newY = Math.max(0, Math.min(newY, puzzleArea.offsetHeight - pieceSize));\r\n\r\n      // 그리드에 맞춰 위치를 맞추기\r\n      const gridX =\r\n        Math.round(newX / (pieceSize + gridSpacing)) *\r\n        (pieceSize + gridSpacing);\r\n      const gridY =\r\n        Math.round(newY / (pieceSize + gridSpacing)) *\r\n        (pieceSize + gridSpacing);\r\n\r\n      selectedPiece.style.left = `${gridX}px`;\r\n      selectedPiece.style.top = `${gridY}px`;\r\n    }\r\n  }\r\n\r\n  // 퍼즐 조각 드롭\r\n  function dropPiece() {\r\n    if (selectedPiece) {\r\n      const currentX = parseInt(selectedPiece.style.left);\r\n      const currentY = parseInt(selectedPiece.style.top);\r\n\r\n      const targetPiece = pieces.find(\r\n        (piece) =>\r\n          piece !== selectedPiece &&\r\n          parseInt(piece.style.left) === currentX &&\r\n          parseInt(piece.style.top) === currentY\r\n      );\r\n\r\n      if (targetPiece) {\r\n        const targetX = parseInt(targetPiece.style.left);\r\n        const targetY = parseInt(targetPiece.style.top);\r\n\r\n        targetPiece.style.left = `${startPosition.x}px`;\r\n        targetPiece.style.top = `${startPosition.y}px`;\r\n\r\n        selectedPiece.style.left = `${targetX}px`;\r\n        selectedPiece.style.top = `${targetY}px`;\r\n      } else {\r\n        selectedPiece.style.left = `${startPosition.x}px`;\r\n        selectedPiece.style.top = `${startPosition.y}px`;\r\n      }\r\n\r\n      selectedPiece.style.zIndex = \"\";\r\n      selectedPiece = null;\r\n\r\n      checkCompletion(); // 퍼즐이 완성되었는지 확인\r\n    }\r\n\r\n    document.removeEventListener(\"mousemove\", movePiece);\r\n    document.removeEventListener(\"touchmove\", movePiece);\r\n    document.removeEventListener(\"mouseup\", dropPiece);\r\n    document.removeEventListener(\"touchend\", dropPiece);\r\n  }\r\n\r\n  // 퍼즐 완성 확인\r\n  function checkCompletion() {\r\n    let completed = true;\r\n    for (let i = 0; i < pieces.length; i++) {\r\n      const { pieceSize, gridSpacing } = calculatePieceSize();\r\n      const expectedX = (i % gridSize) * (pieceSize + gridSpacing);\r\n      const expectedY = Math.floor(i / gridSize) * (pieceSize + gridSpacing);\r\n      const actualX = parseInt(pieces[i].style.left);\r\n      const actualY = parseInt(pieces[i].style.top);\r\n\r\n      if (actualX !== expectedX || actualY !== expectedY) {\r\n        completed = false;\r\n        break;\r\n      }\r\n    }\r\n\r\n    if (completed) {\r\n      showCompletePopup();\r\n    }\r\n  }\r\n\r\n  // 퍼즐 완성 팝업 표시\r\n  const pungImg = document.querySelector(\".pung_img\");\r\n  const successImg = document.querySelector(\".success_img\");\r\n\r\n  function showCompletePopup() {\r\n    completePopup.classList.add(\"on\");\r\n    pungImg.classList.add(\"on\");\r\n\r\n    // 일정 시간 후 두 번째 이미지 표시\r\n    setTimeout(() => {\r\n      successImg.classList.add(\"on\");\r\n    }, 300); // 1초(1000ms) 후 실행\r\n\r\n    // 퍼즐 영역 클래스 추가\r\n    puzzleArea.classList.add(\"on\");\r\n\r\n    disablePieces();\r\n  }\r\n\r\n  // 퍼즐 조각 이동 불가 상태로 설정\r\n  function disablePieces() {\r\n    pieces.forEach((piece) => {\r\n      piece.style.cursor = \"default\";\r\n      piece.removeEventListener(\"mousedown\", selectPiece);\r\n      piece.removeEventListener(\"touchstart\", selectPiece);\r\n    });\r\n\r\n    // <div class=\"txt\"> 내용 변경\r\n    const txtDiv = document.querySelector(\".puzzle_area .txt\");\r\n    if (txtDiv) {\r\n      txtDiv.classList.add(\"on\");\r\n      txtDiv.innerHTML = \"<div>성공이오!</div>\";\r\n    }\r\n  }\r\n\r\n  createPieces(); // 퍼즐 조각 생성\r\n\r\n  // 윈도우 크기 변경 시 퍼즐 크기 재계산\r\n  window.addEventListener(\"resize\", function () {\r\n    createPieces(); // 크기 변경 시 퍼즐을 새로 만들어서 다시 배치\r\n  });\r\n\r\n  //카드게임s\r\n  // 전역 변수 설정\r\n  const cards = document.querySelectorAll(\".card\");\r\n  const completeButton = document.getElementById(\"cardgame_popup\");\r\n  let flippedCards = [];\r\n  let isProcessing = false;\r\n\r\n  // 이미지 경로 매핑\r\n  const cardImages = {\r\n    1: \"./css/img/card_1.png\",\r\n    2: \"./css/img/card_2.png\",\r\n    3: \"./css/img/card_3.png\",\r\n  };\r\n\r\n  // 카드에 이미지 추가\r\n  function addCardImages() {\r\n    cards.forEach((card) => {\r\n      const value = card.dataset.value;\r\n      const front = card.querySelector(\".card-front\");\r\n      if (value && front) {\r\n        front.style.backgroundImage = `url(${cardImages[value]})`;\r\n        front.style.backgroundSize = \"contain\";\r\n        front.style.backgroundPosition = \"center\";\r\n        front.style.backgroundRepeat = \"no-repeat\";\r\n      }\r\n    });\r\n  }\r\n\r\n  // 카드 섞기 함수\r\n  function shuffleCards() {\r\n    const gameBoard = document.querySelector(\".game_board\");\r\n    const cardArray = Array.from(cards);\r\n\r\n    // Fisher-Yates 셔플 알고리즘\r\n    for (let i = cardArray.length - 1; i > 0; i--) {\r\n      const j = Math.floor(Math.random() * (i + 1));\r\n      gameBoard.appendChild(cardArray[j]);\r\n    }\r\n  }\r\n\r\n  // 카드 클릭 이벤트 설정\r\n  function initializeGame() {\r\n    addCardImages(); // 이미지 추가\r\n    shuffleCards(); // 카드 섞기\r\n    cards.forEach((card) => {\r\n      card.addEventListener(\"click\", handleCardClick);\r\n    });\r\n  }\r\n\r\n  // 카드 클릭 처리\r\n  function handleCardClick(event) {\r\n    const card = event.target.closest(\".card\");\r\n\r\n    // 클릭 무시해야 할 상황 체크\r\n    if (shouldIgnoreClick(card)) return;\r\n\r\n    // 카드 뒤집기\r\n    flipCard(card);\r\n\r\n    // 두 카드가 뒤집혔을 때 처리\r\n    if (flippedCards.length === 2) {\r\n      handlePairComparison();\r\n    }\r\n  }\r\n\r\n  // 클릭 무시해야 할 상황 체크\r\n  function shouldIgnoreClick(card) {\r\n    return (\r\n      isProcessing ||\r\n      card.classList.contains(\"flipped\") ||\r\n      card.classList.contains(\"matched\") ||\r\n      flippedCards.includes(card)\r\n    );\r\n  }\r\n\r\n  // 카드 뒤집기\r\n  function flipCard(card) {\r\n    card.classList.add(\"flipped\");\r\n    flippedCards.push(card);\r\n  }\r\n\r\n  // 카드 짝 비교\r\n  function handlePairComparison() {\r\n    isProcessing = true;\r\n    const [firstCard, secondCard] = flippedCards;\r\n\r\n    if (isMatch(firstCard, secondCard)) {\r\n      handleMatch(firstCard, secondCard);\r\n      checkGameCompletion();\r\n    } else {\r\n      handleMismatch(firstCard, secondCard);\r\n    }\r\n  }\r\n\r\n  // 카드 일치 확인\r\n  function isMatch(card1, card2) {\r\n    return card1.dataset.value === card2.dataset.value;\r\n  }\r\n\r\n  // 카드 일치했을 때 처리\r\n  function handleMatch(card1, card2) {\r\n    card1.classList.add(\"matched\");\r\n    card2.classList.add(\"matched\");\r\n    resetFlippedCards();\r\n  }\r\n\r\n  // 카드 불일치했을 때 처리\r\n  function handleMismatch(card1, card2) {\r\n    setTimeout(() => {\r\n      card1.classList.remove(\"flipped\");\r\n      card2.classList.remove(\"flipped\");\r\n      resetFlippedCards();\r\n    }, 1000);\r\n  }\r\n\r\n  // 뒤집힌 카드 상태 초기화\r\n  function resetFlippedCards() {\r\n    flippedCards = [];\r\n    isProcessing = false;\r\n  }\r\n\r\n  // 게임 완료 체크\r\n  function checkGameCompletion() {\r\n    const seaImg = document.querySelector(\".sea_img\");\r\n    const pungpungImg = document.querySelector(\".pungpung_img\");\r\n    const ceramicsImg = document.querySelector(\".ceramics_img\");\r\n    const cardTxt = document.querySelector(\".card_area .txt\");\r\n    const gameBoard = document.querySelector(\".game_board\");\r\n    const allMatched = Array.from(cards).every((card) =>\r\n      card.classList.contains(\"matched\")\r\n    );\r\n\r\n    if (allMatched) {\r\n      gameBoard.classList.add(\"on\");\r\n      completePopup.classList.add(\"on\");\r\n      pungpungImg.classList.add(\"on\");\r\n      seaImg.classList.add(\"on\");\r\n\r\n      // 일정 시간 후 두 번째 이미지 표시\r\n      setTimeout(() => {\r\n        ceramicsImg.classList.add(\"on\");\r\n      }, 300); // 1초(1000ms) 후 실행\r\n\r\n      // 퍼즐 영역 클래스 추가\r\n      completeButton.classList.add(\"on\");\r\n\r\n      disablePieces();\r\n\r\n      cardTxt.classList.add(\"on\");\r\n      cardTxt.innerHTML = \"<div>받으시오!</div>\";\r\n\r\n      // setTimeout(() => {\r\n      //   completeButton.style.opacity = \"block\";\r\n      // }, 1000);\r\n    }\r\n  }\r\n\r\n  // 게임 전체 초기화\r\n  function resetGame() {\r\n    flippedCards = [];\r\n    isProcessing = false;\r\n    completeButton.style.display = \"none\";\r\n    cards.forEach((card) => {\r\n      card.classList.remove(\"flipped\", \"matched\");\r\n    });\r\n    shuffleCards(); // 게임 리셋 시 카드 다시 섞기\r\n  }\r\n\r\n  // 게임 시작\r\n  initializeGame();\r\n\r\n  //달리기 게임\r\n  const character = document.querySelector(\".character\");\r\n  const climbButton = document.getElementById(\"climbButton\");\r\n  const goalAlert = document.getElementById(\"goalAlert\");\r\n  const path = document.querySelector(\".path\");\r\n\r\n  let currentPosition = 0;\r\n  const maxPosition = 5;\r\n\r\n  function createVerticalPath() {\r\n    for (let i = 0; i <= maxPosition; i++) {\r\n      const segment = document.createElement(\"div\");\r\n      segment.classList.add(\"path-segment\");\r\n      segment.style.bottom = `${(i / maxPosition) * 100}%`;\r\n      path.appendChild(segment);\r\n    }\r\n  }\r\n\r\n  function updateCharacterPosition() {\r\n    const progress = Math.min(currentPosition / maxPosition, 1);\r\n    const bottomOffset = 10;\r\n    const bottomPosition = `calc(${progress * 100}% - ${\r\n      character.offsetHeight / 2\r\n    }px + ${bottomOffset}px)`;\r\n    character.style.bottom = bottomPosition;\r\n  }\r\n\r\n  function checkGoal() {\r\n    if (currentPosition === maxPosition) {\r\n      climbButton.disabled = true;\r\n      goalAlert.style.display = \"block\";\r\n      updateCharacterPosition();\r\n    }\r\n  }\r\n\r\n  climbButton.addEventListener(\"click\", () => {\r\n    if (currentPosition < maxPosition) {\r\n      currentPosition++;\r\n      updateCharacterPosition();\r\n      checkGoal();\r\n    }\r\n  });\r\n\r\n  // 초기 설정\r\n  createVerticalPath();\r\n  updateCharacterPosition();\r\n});\r\n"],"names":[],"version":3,"file":"index.fb67f16b.js.map","sourceRoot":"/__parcel_source_root/"}